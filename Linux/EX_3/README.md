# 如何做实验三
在做实验三前，我有一个重大误解，就是:P/V操有Linux原生的函数支持。
但其实并没有！

我们需要通过使用信号`semaphore`一类（注意，这个sig那些不一样）模拟PV。

> 为什么用的semaphore呢？

因为semaphore一族都属于IPC类型，IPC类型的数据结构在声明后**会常驻内存**，即使这个进程退出了，在系统重启之前，创建的IPC结构数据**依然会留在内存当中**！

*IPC类型由UNIX System V引入，System V类的接口相当于是Liunx除了POSIX接口外的另一个子系统 ~~让我觉得用起来并没有那么正义~~*

vfork再exec后的进程依然属于父进程

## 注意

根据同学反馈，在虚拟机里运行的Linux只有在root用户下才能正确运行生产者-消费者，而在其他普通用户下是无法挂载ipc类型的地址的。

试试`sudo ./main.out`
